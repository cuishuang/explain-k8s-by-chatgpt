# File: pkg/controller/certificates/signer/signer.go

pkg/controller/certificates/signer/signer.go是Kubernetes项目中用于签署证书签名请求的控制器。

CSRSigningController结构体是签署证书签名请求的控制器实例，用于启动其他控制器结构体并对所有证书签名请求进行签名。isRequestForSignerFunc是一个函数指针，用于检查证书签名请求是否应发送给此控制器，并在需要时为签名器设置函数。signer结构体封装了与证书签名相关的信息，例如公钥、密钥和证书签名证书等。

NewKubeletServingCSRSigningController、NewKubeletClientCSRSigningController、NewKubeAPIServerClientCSRSigningController、NewLegacyUnknownCSRSigningController和NewCSRSigningController等函数分别用于创建指定类型的证书签名控制器。Run函数是控制器的主要循环，负责获取证书签名请求、检查有效性并调用签名器函数进行签名。handle函数用于处理签名器的结果，并返回证书签名请求的响应。sign函数将证书签名请求与签名器一起使用以获取签名后的证书。duration用于设置签名证书的有效期，getCSRVerificationFuncForSignerName用于为指定的签名器名称获取证书签名请求验证函数。

isKubeletServing、isKubeletClient、isKubeAPIServerClient和isLegacyUnknown函数用于检查证书签名请求是否符合指定类型的相关用途。validAPIServerClientUsages和usagesToSet函数用于获取和设置证书的使用方式。

