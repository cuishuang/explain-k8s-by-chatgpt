# File: pkg/controller/statefulset/stateful_set.go

pkg/controller/statefulset/stateful_set.go文件是Kubernetes中StatefulSet控制器的实现。StatefulSet是一种编排Pod的方式，它可以确保每个Pod都有一个唯一的名称和标识，并且在Pod重启或者删除的时候都能保持稳定性。StatefulSet控制器负责监视StatefulSet对象的状态，并且确保StatefulSet和Pod的数量和状态一致。

controllerKind包含了控制器名称和API版本等信息。

StatefulSetController是StatefulSet控制器的主结构体，它包含了StatefulSet控制器所需的所有状态和方法。

NewStatefulSetController函数用于创建一个新的StatefulSetController实例。

Run方法用于启动StatefulSetController的主循环，其中会依次调用addPod、updatePod和deletePod等方法来处理Pod的变化。

addPod方法用于增加一个Pod，它会检查Pod的状态和规范，创建真实的Pod并返回。

updatePod方法用于更新一个Pod，它会检查Pod的状态和规范，更新Pod并返回。

deletePod方法用于删除一个Pod，它会检查Pod的状态和规范，删除Pod并返回。

getPodsForStatefulSet方法用于获取与指定StatefulSet关联的所有Pod。

canAdoptFunc是一个回调函数，用于检查当前控制器是否可以接管某个Pod的管理权。

adoptOrphanRevisions方法用于接管一个处于无人管理状态的Revision的管理权。

getStatefulSetsForPod方法用于获取与指定Pod关联的所有StatefulSet。

resolveControllerRef方法用于解析一个Pod中的ownerReferences字段，获取该Pod所属的控制器信息。

enqueueStatefulSet方法用于将一个StatefulSet对象加入到工作队列中。

enqueueSSAfter方法用于将一个StatefulSet对象延迟一段时间后加入到工作队列中。

processNextWorkItem方法用于从工作队列中提取并处理下一个工作项。

worker方法是处理工作项的主函数。

sync方法用于同步指定StatefulSet对象的状态。

syncStatefulSet方法用于同步指定StatefulSet对象的状态，并且确保StatefulSet中定义的所有Pod都已经创建、更新或删除。

