# File: pkg/controller/namespace/deletion/namespaced_resources_deleter.go

pkg/controller/namespace/deletion/namespaced_resources_deleter.go是Kubernetes项目中实现删除namespace下资源的控制器。

_这几个变量为占位符，通常用于舍弃变量或变量不需要使用的情况。

NamespacedResourcesDeleterInterface是一个接口类型，定义了删除namespace下资源的接口方法Delete。

namespacedResourcesDeleter是一个结构体类型，实现了NamespacedResourcesDeleterInterface接口，负责删除namespace下的所有资源。

ResourcesRemainingError 是一个错误类型，当执行删除namespace下资源操作时，检测到仍有资源存在则返回此错误。

operation是一个字符串类型，表示正在进行的操作，包括删除collection、删除资源、更新namespace状态等。

operationKey是一个字符串类型，用于标识操作的唯一性，例如删除Collection时使用的operationKey为“deletion”。

operationNotSupportedCache是一个缓存结构，用于保存不支持的操作类型，避免重复判断。

updateNamespaceFunc是一个函数类型，用于更新namespace的状态信息。

gvrDeletionMetadata是一个结构体类型，用于保存实现特定资源类型的元数据信息。

allGVRDeletionMetadata是一个切片类型，保存了所有支持的资源类型的元数据信息。

NewNamespacedResourcesDeleter是一个函数，创建namespacedResourcesDeleter结构体实例。

Delete是接口方法，实现了删除namespace下的所有资源的操作。

initOpCache方法初始化操作类型的缓存。

Error是一个函数，简化创建操作错误类型的过程。

isSupported方法检查当前operation是否支持。

setNotSupported方法将operation添加到operationNotSupportedCache缓存中。

retryOnConflictError方法处理并发更新冲突时的错误。

updateNamespaceStatusFunc方法更新namespace状态。

finalized方法检查namespace是否完成了finalized状态。

finalizeNamespace方法完成namespace的finalized状态。

deleteCollection方法删除指定Collection下的所有资源。

listCollection方法列出指定Collection下的所有资源。

deleteEachItem方法逐个删除指定Collection下的所有资源。

deleteAllContentForGroupVersionResource方法删除指定资源类型下所有的资源。

deleteAllContent方法删除所有资源。

estimateGracefulTermination方法用于估算优雅终止的时间。

estimateGracefulTerminationForPods方法用于估算优雅终止的时间，特别用于Pods资源的处理。

